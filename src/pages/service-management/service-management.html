<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Service Management</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  <p style="text-align: center !important; color: #919191;" *ngIf='dataValidation.isEmptyJson(serviceRequests)'>
    <ion-spinner name="bubbles"></ion-spinner>
  </p>
  <p style="text-align: center !important; color: #919191;" *ngIf='dataValidation.isEmptyJson(serviceRequests)'>
    Loading the service requests ...
  </p>

  <ion-list *ngIf='!dataValidation.isEmptyJson(serviceRequests)'>
    <ion-item *ngFor='let sR of serviceRequests'>
      <p style="font-size: 15px !important; color:rgb(31, 115, 250) !important; font-weight: 800 !important;">
        {{sR['createdby']}}      
        <span (click)="editServiceRequest(sR)"><ion-icon name="create"></ion-icon></span>
        <span style="float: right !important; color: #aaa !important; margin-right: 5px !important;" (click)="getDetails(sR['serviceid'])"><ion-icon name="information-circle"></ion-icon></span>
      </p>
      <p style="font-size: 12px !important; color: #919191 !important;">{{sR['assigneename']}}
        <span style="font-size: 8px !important; color: #919191 !important;"><i>{{sR['modifydate']}}</i></span>

        <span style="float: right !important;" *ngIf="sR['status']=='CLOSE'">
          <ion-badge color="light" style="font-size: 10px !important;">{{sR['status']}}</ion-badge>
        </span>
        <span style="float: right !important;" *ngIf="sR['status']=='OPEN'">
          <ion-badge color="danger" style="font-size: 10px !important;">{{sR['status']}}</ion-badge>
        </span>
        <span style="float: right !important;" *ngIf="sR['status']=='PENDING'">
          <ion-badge color="dark" style="font-size: 10px !important;">{{sR['status']}}</ion-badge>
        </span>
      </p>
    </ion-item>
  </ion-list>


</ion-content>

<ion-footer>
  <ion-row>
    <ion-col col-6
      style="text-align: center !important; background-color: #fff !important; border-right: 1px solid #ddd !important;">
      <button ion-button clear disabled=true>Sort</button>
    </ion-col>
    <ion-col col-6 style="text-align: center !important;">
      <button ion-button clear (click)="navCtrl.push('FilterServiceManagementPage')">Filter</button>
    </ion-col>
  </ion-row>
</ion-footer>